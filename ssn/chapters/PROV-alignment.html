<h3>PROV Alignment Module</h3>
<p>
  This section introduces the alignment of SOSA to W3C PROV ([[prov-overview]], [[prov-dm]], [[prov-o]]).
</p>
<p>
  The underlying structure of PROV is based around a process-flow model, with three base classes:
  <a href="https://www.w3.org/TR/prov-o/#Entity">Entity</a>,
  which is the class of physical, digital, conceptual, or other kinds of things with some fixed aspects;
  <a href="https://www.w3.org/TR/prov-o/#Activity">Activity</a>,
  which is the class of things that occur over a period of time and act upon or with entities, and it may include
  consuming, processing, transforming, modifying, relocating, using, or generating entities; and
  <a href="https://www.w3.org/TR/prov-o/#Agent">Agent</a>,
  which is the class of things that bear some form of responsibility for an activity taking place, for the existence of
  an entity, or for another agent's activity.
</p>
<figure id="Fig-PROV-Alignment">
  <embed src="images/Prov-alignment.svg" alt="PROV-O alignment to SSN" style="width:100%" />
  <figcaption>
    Core PROV classes and some of the properties that relate them, alongside the core SOSA
    structure for execution (actuation, observation, and sampling).
    <br>
    <em><a href="#Class-diagram">Explanation of the notation used in class diagrams</a></em>.
  </figcaption>
</figure>

<p>
  The SOSA/SSN ontologies conceive executions (actuations, observations, and acts of sampling) as activities or events,
  which result in a change in the world, or information being produced, or the production or transformation of a sample.
  An alignment of SOSA to PROV is natural.
  Compton et al. [[SSN-PROV]] and Cox [[OM-Lite]] have described alignments of the [[SSNX]] and [[OandM]] models with [[prov-o]].
  The alignment here (see <a href="#Fig-PROV-Alignment"></a>) is based on that work, also extended to consider actuation and sampling.
</p>

<section id="PROV_Alignment_ns">
  <h4>Namespaces</h4>
  <p>
    The following namespace prefixes are used in the alignment of SOSA to PROV.
  </p>
  <dl>
    <dt>
     sosa:
    </dt>
    <dd>
     <a href="http://www.w3.org/ns/sosa/">
      http://www.w3.org/ns/sosa/
     </a>
    </dd>
    <dt>
     prov:
    </dt>
    <dd>
     <a href="http://www.w3.org/ns/prov">
      http://www.w3.org/ns/prov
     </a>
    </dd>
    <dt>
     sp:
    </dt>
    <dd>
     <a href="http://www.w3.org/ns/sosa/prov/">
      http://www.w3.org/ns/sosa/prov/
     </a>
    </dd>
   </dl>
</section>

<section id="PROV_Alignment_class">
  <h4>Class Alignments</h4>
  <p>
    The primary classes from SOSA are aligned with the PROV classes as follows.
  </p>
  <p>
    1. Execution (acts of Observation, Actuation and Sampling) is a kind of Activity, thus:
  </p>
  <table>
    <tbody>
      <tr>
        <td> <a>sosa:Execution</a> </td>
        <td rowspan="4"> subclass of </td>
        <td rowspan="4"> <a href="http://www.w3.org/ns/prov#Activity">prov:Activity</a> </td>
      </tr>
      <tr>
        <td> <a>sosa:Actuation</a> </td>
      </tr>
      <tr>
        <td> <a>sosa:Observation</a> </td>
      </tr>
      <tr>
        <td> <a>sosa:Sampling</a> </td>
      </tr>
    </tbody>
  </table>
  <p>
    2. Systems (Sensors, Actuators and Samplers) are entities that are responsible for the corresponding activities,
    thus:
  </p>
  <table>
    <tbody>
      <tr>
        <td> <a>sosa:System</a> </td>
        <td rowspan="4"> subclass of </td>
        <td rowspan="4"> <a href="http://www.w3.org/ns/prov#Agent">prov:Agent</a> , <a href="http://www.w3.org/ns/prov#Entity">prov:Entity</a> </td>
      </tr>
      <tr>
        <td> <a>sosa:Actuator</a> </td>
      </tr>
      <tr>
        <td> <a>sosa:Sensor</a> </td>
      </tr>
      <tr>
        <td> <a>sosa:Sampler</a> </td>
      </tr>
    </tbody>
  </table>
  <p>
    3. Procedures for observation, actuation or sampling are a kind of prov:Plan, thus:
  </p>
  <table>
    <tbody>
      <tr>
        <td> <a>sosa:Procedure</a> </td>
        <td> subclass of </td>
        <td> <a href="http://www.w3.org/ns/prov#Plan">prov:Plan</a> </td>
      </tr>
    </tbody>
  </table>
  <p>
    4. The other classes from the core SOSA ontology represent either real or information resources, so are
    interpreted as kinds of prov:Entity, thus:
  </p>
  <table>
    <tbody>
      <tr>
        <td> <a>sosa:FeatureOfInterest</a> </td>
        <td rowspan="2"> subclass of </td>
        <td rowspan="2"> <a href="http://www.w3.org/ns/prov#Entity">prov:Entity</a> </td>
      </tr>
      <tr>
        <td> <a>sosa:Sample</a> </td>
      </tr>
      <tr>
        <td> <a>sosa:Property</a> </td>
        <td> subclass of </td>
        <td> <a href="http://www.w3.org/ns/prov#Entity">prov:Entity</a> </td>
      </tr>
      <tr>
        <td> <a>sosa:Platform</a> </td>
        <td> subclass of </td>
        <td> <a href="http://www.w3.org/ns/prov#Entity">prov:Entity</a> </td>
      </tr>
    </tbody>
  </table>
</section>

<section id="PROV_Alignment_property">
  <h4>Property Alignments</h4>
  <p>
    The following properties from SOSA have simple alignments with PROV properties:
  </p>
  <table>
    <tbody>
      <tr>
        <td> <a>sosa:hasFeatureOfInterest</a> </td>
        <td> subproperty of </td>
        <td> <a href="http://www.w3.org/ns/prov#used">prov:used</a> </td>
      </tr>
      <tr>
        <td> <a>sosa:hasResult</a> </td>
        <td> subproperty of </td>
        <td> <a href="http://www.w3.org/ns/prov#generated">prov:generated</a> </td>
      </tr>
      <tr>
        <td> <a>sosa:isResultOf</a> </td>
        <td> subproperty of </td>
        <td> <a href="http://www.w3.org/ns/prov#wasGeneratedBy">prov:wasGeneratedBy</a> </td>
      </tr>
      <tr>
        <td> <a>sosa:isSampleOf</a> </td>
        <td> subproperty of </td>
        <td> <a href="http://www.w3.org/ns/prov#wasDerivedFrom">prov:wasDerivedFrom</a> </td>
      </tr>
      <tr>
        <td> <a>sosa:madeBySystem</a> </td>
        <td rowspan="4"> subproperty of </td>
        <td rowspan="4"> <a href="http://www.w3.org/ns/prov#wasAssociatedWith">prov:wasAssociatedWith</a> </td>
      </tr>
      <tr>
        <td> <a>sosa:madeByActuator</a> </td>
      </tr>
      <tr>
        <td> <a>sosa:madeBySensor</a> </td>
      </tr>
      <tr>
        <td> <a>sosa:madeBySampler</a> </td>
      </tr>
      <tr>
        <td> <a>sosa:startTime</a> </td>
        <td> subproperty of </td>
        <td> <a href="http://www.w3.org/ns/prov#startedAtTime">prov:startedAtTime</a> </td>
      </tr>
      <tr>
        <td> <a>sosa:resultTime</a> </td>
        <td> subproperty of </td>
        <td> <a href="http://www.w3.org/ns/prov#endedAtTime">prov:endedAtTime</a> </td>
      </tr>
    </tbody>
  </table>
  <p>
    The final property alignment first requires some sub-properties of PROV properties to be defined:
  </p>
  <table>
    <tbody>
      <tr>
        <td rowspan="2"> <dfn>sp:executionAssociation</dfn> </td>
        <td> subproperty of </td>
        <td> <a href="http://www.w3.org/ns/prov#qualifiedAssociation">prov:qualifiedAssociation</a> </td>
      </tr>
      <tr>
        <td> domain </td>
        <td> <a>sosa:Execution</a> </td>
      </tr>
      <tr>
        <td rowspan="2"> <dfn>sp:hadProcedure</dfn> </td>
        <td> subproperty of </td>
        <td> <a href="http://www.w3.org/ns/prov#hadPlan">prov:hadPlan</a> </td>
      </tr>
      <tr>
        <td> range </td>
        <td> <a>sosa:Procedure</a> </td>
      </tr>
    </tbody>
  </table>
  <p>
    Then sosa:usedProcedure is given by a property chain axiom:
  </p>
  <table>
    <tbody>
      <tr>
        <td> <a>sosa:usedProcedure</a> </td>
        <td> property chain axiom </td>
        <td> [ <a>sp:executionAssociation</a> , <a>sp:hadProcedure</a> ] </td>
      </tr>
    </tbody>
  </table>
  <p>
    An RDF file containing a <a href="https://github.com/w3c/sdw/blob/gh-pages/ssn/rdf/alignments/sosa-prov.ttl">graph
      corresponding to this alignment is available</a>.
  </p>
</section>