# baseURI: http://www.w3.org/ns/sosa/saref
# imports: https://saref.etsi.org/core/v4.1.1/
# imports: http://www.w3.org/ns/sosa/

@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sosa: <http://www.w3.org/ns/sosa/> .
@prefix saref: <https://saref.etsi.org/core/> .
@prefix s4syst: <https://saref.etsi.org/saref4syst/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix foaf: <http://xmlns.com/foaf/0.1/>.
@prefix time: <http://www.w3.org/2006/time#> .

@prefix schema: <http://schema.org/> .

@prefix sosa: <http://www.w3.org/ns/sosa/> .
@prefix sosa-common: <http://www.w3.org/ns/sosa/common/> .
@prefix sosa-sam: <http://www.w3.org/ns/sosa/sam/> .

@prefix sosa: <http://www.w3.org/ns/sosa/> .
@prefix sosa-common: <http://www.w3.org/ns/sosa/common/> .
@prefix sosa-act: <http://www.w3.org/ns/sosa/act/> .
@prefix sosa: <http://www.w3.org/ns/sosa/> .
@prefix sosa-common: <http://www.w3.org/ns/sosa/common/> .
@prefix sosa-obs: <http://www.w3.org/ns/sosa/obs/> .

sosa:saref a owl:Ontology ;
  dcterms:created "2024-03-14"^^xsd:date ;
  dcterms:creator "Maxime Lefran√ßois" ;
  dcterms:creator [
      rdf:type foaf:Agent ;
      foaf:name "W3C/OGC Spatial Data on the Web Working Group"@en ;
    ] ;
  dcterms:license <http://www.opengeospatial.org/ogc/Software> ;
  dcterms:license <http://www.w3.org/Consortium/Legal/2015/copyright-software-and-document> ;
  dcterms:modified "2024-03-14"^^xsd:date ;
  dcterms:modified "2025-02-19"^^xsd:date ;
  dcterms:rights "Copyright 2025 W3C/OGC." ;
  rdfs:comment """Alignment of the the W3C/OGC SOSA Ontology with the ETSI Smart Applications REFerence Ontology (SAREF)."""@en ;
  rdfs:label "Alignment of SOSA with SAREF Core V4.1.1"@en ;
  owl:imports <https://saref.etsi.org/core/v4.1.1> ;
  owl:imports <https://saref.etsi.org/saref4syst/v1.1.2> ;
  owl:imports sosa: .

## Alignment sosa-common and SAREF Core and SAREF4SYST

# This part of the file can be read side-by-side with the file sosa-common.ttl 

### FeatureOfInterest

# In SOSA/SSN, `sosa:FeatureOfInterest` is the class of things that are the target of an execution or a deployment. 
# In SAREF, `saref:FeatureOfInterest` is the class of real world entities from which a property or a state may be acted upon, such as observed and controlled.
# So `saref:FeatureOfInterest` is more general than `sosa:FeatureOfInterest`. An entity can be a `saref:FeatureOfInterest` even if it is not the target of an execution or a deployment.

sosa:FeatureOfInterest
  rdfs:subClassOf saref:FeatureOfInterest .

### FeatureKind

# In SAREF, class `saref:FeatureKind` allows to describe kinds of features of interest, with common properties and common states having the same value. An instance of `saref:FeatureKind` represents an archetype of real world entities, for example to populate product catalogs.
# In SOSA/SSN, feature _types_ are expected to be represented as OWL Classes (sub-classes of SOSA classes where appropriate), and OWL `ObjectHasValue` or `DataHasValue` axioms must be used to bind values to any individuals populating these classes. See [#107](https://github.com/w3c/sdw-sosa-ssn/issues/107) and [#114](https://github.com/w3c/sdw-sosa-ssn/issues/114), 
# Thus, there is no equivalent in SOSA/SSN to `saref:FeatureKind`.



### Property

# In SOSA/SSN, a `sosa:Property` can apply to different features of interest. Section 8.8.3 "Feature-specific properties" states that a property may be made specific to a single feature of interest using sosa:isPropertyOf.
# In SAREF, an instance of `saref:Property` can apply to different features of interest, while an instance of `saref:PropertyOfInterest` is specific to a feature of interest. It is inherent to and cannot exist without that feature of interest.
# SAREF also defines states, that refer to the identifiable conditions that features of interest are or may be in, and that can be acted upon by devices, such as observed and controlled. States and Properties are parallel, distinct, but not disjoint. Users can chose whichever seems to best fit their needs. 
# While states can apply to different features of interest, states of interest are specific to a feature of interest.
# Thus, `saref:Property`, `saref:PropertyOfInterest`, `saref:State`, `saref:StateOfInterest` are all sub-classes of `sosa:Property`.

saref:Property
  rdfs:subClassOf sosa:Property .

saref:PropertyOfInterest
  rdfs:subClassOf sosa:Property .

saref:State
  rdfs:subClassOf sosa:Property .

saref:StateOfInterest
  rdfs:subClassOf sosa:Property .


### hasFeatureOfInterest, forProperty, observes, observedProperty, actsOn, actsOnProperty

# In SAREF, a device can act upon (OP `saref:actsUpon`) features, properties, or states. SAREF Core defines `saref:observes` and `saref:controls` as sub-properties of `saref:actsUpon`. Property `saref:actsUpon` also applies to functions, commands, and procedure executions.
# In SOSA/SSN, different object properties are used depending on the context. It would be:
#
# - `sosa:hasFeatureOfInterest` from execution to feature of interest
# - `sosa:hasUltimateFeatureOfInterest` from execution to feature of interest
# - `sosa:forProperty` from procedure or system to property
# 
# Thus, all these properties are sub-properties of the SAREF properties.

sosa:hasFeatureOfInterest
  rdfs:subPropertyOf saref:actsUpon . # this also covers sosa:isFeatureOfInterestOf

sosa:hasUltimateFeatureOfInterest
  rdfs:subPropertyOf saref:actsUpon . # this also covers sosa:isUltimateFeatureOfInterestOf

sosa:forProperty
  rdfs:subPropertyOf saref:actsUpon .


# `sosa:hasProcedure` links a Property and a Procedure that can observe or act on it. This corresponds to a restrictive application of `saref:isActedUponBy` in SAREF, which is defined as "Links a feature, property, or state, to the device, function, command, or procedure execution, that acts on it.". 

sosa:hasProcedure 
  rdfs:subPropertyOf saref:isActedUponBy .

# `sosa:propertyFor` is defined as "A relation between a Property and some entity.". Three examples are given: from a Sensor to the properties it can observe; from an Actuator to the properties it can act on; from a SystemCapability to the Property the capability is described for. In the two first examples, SAREF would offer as equivalent `saref:isActedUponBy`, which is defined as "Links a feature, property, or state, to the device, function, command, or procedure execution, that acts on it.". In the third example, it is less clear what would be the equivalent in SAREF.

sosa:propertyFor
  rdfs:subPropertyOf saref:isActedUponBy . 


### link entity to property of that entity

# in SOSA/SSN, `sosa:hasProperty` links an entity (esp. feature of interest) and a property of that entity. 
# In SAREF, different object properties are used depending on the context. It would be:
# 
# - `saref:hasProperty` between a feature of interest and a property
# - `saref:hasPropertyOfInterest` between a feature of interest and a property
# - `saref:hasState` between a feature of interest and a state
# - `saref:hasStateOfInterest` between a feature of interest and a state of interest
# 
# Thus, all these properties are sub-properties of `sosa:hasProperty`.

saref:hasProperty
  rdfs:subPropertyOf sosa:hasProperty . # this also covers sosa:isPropertyOf

saref:hasPropertyOfInterest
  rdfs:subPropertyOf sosa:hasProperty .

saref:hasState
  rdfs:subPropertyOf sosa:hasProperty .

saref:hasStateOfInterest
  rdfs:subPropertyOf sosa:hasProperty .



### Procedures

# In SAREF, a `saref:Command` represents the lowest-level directives a device supports and exposes to some network. A `saref:CommandOfInterest` is a directive actually supported by a device and exposed to some network. A `saref:Operation` is the means of a service to communicate in a procedure-type manner over the network (i.e., transmit data to/from other devices). It is the -machine interpretable- exposure of a -human understandable- command to a network.
# These classes map to sosa:Procedure.

saref:Command
  rdfs:subClassOf sosa:Procedure .

saref:CommandOfInterest
  rdfs:subClassOf sosa:Procedure .

saref:Operation
  rdfs:subClassOf sosa:Procedure .


### inputs and outputs

# in SAREF, commands and operations can be described in terms of their inputs and outputs using OP `saref:hasInput` and `saref:hasOutput`. A procedure execution may be linked to its inputs using OP `saref:hasInput`.
# In SOSA/SSN, different properties are used depending on the context. It would be:
# 
# - `sosa:hasInput` and `sosa:hasOuput` applied on a procedure
# - `sosa:hasInputValue` applied on a procedure execution
# 
# Thus, SOSA properties are sub-properties of SAREF properties.

sosa:hasInput # this also covers sosa:inputFor
  rdfs:subPropertyOf saref:hasInput .

sosa:hasInputValue # this also covers sosa:inputValueForExecution
  rdfs:subPropertyOf saref:hasInput .

sosa:hasOutput # this also covers sosa:outputFor
  rdfs:subPropertyOf saref:hasOutput .


### sosa:implements 

# SOSA/SSN defines `sosa:implements` as "Relation between an entity that implements a Procedure in some executable way and the Procedure (an algorithm, procedure or method).". 
# SAREF imposes an indirection. A device or device kind has some functions, and these functions have some commands. Functions are defined as "logical groups of commands that devices support to accomplish their tasks". Parallel to this, a device or device kind offers some services, and these services have some operations.
# Although there is no direct alignment between SOSA/SSN and SAREF here, one can define two property chain axioms that allow to infer `sosa:implements`
# This alignment also covers sosa:implementedBy

sosa:implements owl:propertyChainAxiom ( saref:hasFunction saref:hasCommand ) . 

sosa:implements owl:propertyChainAxiom ( saref:offers saref:hasOperation ) .


### procedure executions

# SAREF adopted the term `saref:ProcedureExecution` from the [Procedure Execution ontology (2016)](https://w3id.org/pep/). This term was suggested to SOSA/SSN in [#109](https://github.com/w3c/sdw-sosa-ssn/issues/109), added, and then renamed to `sosa:Execution` in [#173](https://github.com/w3c/sdw-sosa-ssn/pull/173).

saref:ProcedureExecution
  owl:equivalentClass sosa:Execution .

# SOSA/SSN defines `sosa:usedProcedure` (inverse: `sosa:usedForExecution`) to link an execution to the procedure that was used in making it.
# SAREF does not have the notion of procedure, so it defines `saref:isExecutionOf` instead, as "Links a command execution to the command or command of interest that was executed. Also liks an operation execution to the operation that was executed".

sosa:usedProcedure owl:equivalentProperty saref:isExecutionOf . # this also covers sosa:usedForExecution

# There is no equivalent to `sosa:ExecutionCollection` in SAREF  

# There is no equivalent to `sosa:Result` in SAREF. Also, `sosa:Result` is deprecated. See [#113](https://github.com/w3c/sdw-sosa-ssn/issues/113) and [#163](https://github.com/w3c/sdw-sosa-ssn/pull/163)

# There is no equivalent to `sosa:endTime` in SAREF

# SAREF `saref:hasResult` and SOSA/SSN `sosa:hasResult` are equivalent.

sosa:hasResult owl:equivalentProperty saref:hasResult . # This also covers sosa:isResultOf

# There is no equivalent to `sosa:hasSimpleResult` in SAREF

# SAREF `saref:madeBy` and SOSA/SSN `sosa:madeBySystem` are equivalent.
# Their inverses are `saref:madeExecution` and SOSA/SSN `sosa:madeExecution`.

sosa:madeExecution owl:equivalentProperty saref:madeExecution .

sosa:madeBySystem owl:equivalentProperty saref:madeBy .


# SAREF `saref:hasPhenomenonTime` is equivalent to SOSA/SSN `sosa:phenomenonTime`, SAREF added prefix `has` to conform to naming best practices.

sosa:phenomenonTime owl:equivalentProperty saref:hasPhenomenonTime . # This also covers sosa:phenomenonOccurred


# SAREF `saref:hasResultTime` is equivalent to SOSA/SSN `sosa:resultTime`, SAREF added prefix `has` to conform to naming best practices.

sosa:resultTime owl:equivalentProperty saref:hasResultTime .


# SAREF `saref:hasStartTime` is equivalent to SOSA/SSN `sosa:startTime`, SAREF added prefix `has` to conform to naming best practices.

sosa:startTime owl:equivalentProperty saref:hasStartTime .


### Deployment

# SAREF has no equivalent to SOSA/SSN `sosa:Deployment` and associated properties:
# 
# - `sosa:deployedAsset`
# - `sosa:deployedOnPlatform` and its inverse `sosa:inDeployment`
# - `sosa:deployedSystem` and its inverse `sosa:hasDeployment`


### Platform

# SAREF has no equivalent to SOSA/SSN `sosa:Platform` and associated properties:
#
# - `sosa:hosts` and its inverse `sosa:isHostedBy`
# 
# `saref:FeatureOfInterest` being more general than `sosa:FeatureOfInterest`, this alignemnt maps `sosa:Platform` to `saref:FeatureOfInterest` and `s4syst:System`. 

sosa:Platform
  rdfs:subClassOf s4syst:System . 


### Systems

# In SOSA/SSN, `sosa:System` is a generalization of `sosa:Sensor`, `sosa:Actuator` and `sosa:Sampler`, where `sosa:Sensor` covers devices, agents (including humans), or softwares (simulations). 
# In SAREF, a `saref:Device` is "a tangible object designed to accomplish a particular task. To accomplish this task, the device performs one or more functions. An instance of saref:Device represents one specific real world entity.".
# `sosa:System` is positionned in the middle of the hierarchy:
# `saref:Device` < `sosa:System`  < `s4syst:System`
#                                 < `saref:FeatureOfInterest` 

saref:Device
  rdfs:subClassOf sosa:System .

sosa:System
  rdfs:subClassOf s4syst:System ;
  rdfs:subClassOf saref:FeatureOfInterest .
  

# SAREF adds the concept of `saref:DeviceKind`, which allows to describe kinds of devices, with common properties and common states having the same value, and with common functions and services. Devices kinds may be used to describe models of devices in online catalogues.
# There is no equivalent in SOSA/SSN to `saref:DeviceKind`.

# SOSA/SSN `sosa:hasSubSystem` is both aligned to `s4syst:hasSubSystem` from SAREF4SYST, and `saref:consistsOf` from SAREF Core.

sosa:hasSubSystem
  rdfs:subPropertyOf s4syst:hasSubSystem ;
  rdfs:subPropertyOf saref:consistsOf .


## Alignment sosa-observation and SAREF Core and SAREF4SYST

# This part of the file can be read side-by-side with the file sosa-observation.ttl 

### Observation

# SAREF `saref:Observation` and SOSA/SSN `sosa:Observation` are equivalent.

sosa:Observation
  owl:equivalentClass saref:Observation .

# SAREF has no equivalent to SOSA/SSN `sosa:ObservationCollection`

### Sensor

# SAREF `saref:Sensor` is a sub-class of `saref:Device`, which must be a tangible object.
# SOSA/SSN `sosa:Sensor` covers devices, agents (including humans), or softwares (simulations). 
# So `saref:Sensor` is more specific than `sosa:Sensor`.

saref:Sensor
  rdfs:subClassOf sosa:Sensor .

# SAREF has no equivalent to SOSA/SSN `sosa:Stimulus` and associated properties:
#
# - `sosa:detects` and its inverse `sosa:isDetectedBy`
# - `sosa:hasProxy` and its inverse `sosa:isProxyFor`
# - `sosa:originated` and its inverse `sosa:wasOriginatedBy`


# In SAREF, a device can act upon (OP `saref:actsUpon`) features, properties, or states. SAREF Core defines `saref:observes` and `saref:controls` as sub-properties of `saref:actsUpon`. Property `saref:actsUpon` also applies to functions, commands, and procedure executions.
# In SOSA/SSN, different object properties are used depending on the context. It would be:
#
# - `sosa:observes` from sensor to property
# - `sosa:observedProperty` from observation to property
# 
# Thus, these properties are sub-properties of the SAREF property `saref:observes`.

sosa:observes
  rdfs:subPropertyOf saref:observes . # also covers sosa:isObservedBy

sosa:observedProperty # also covers sosa:wasObservedBy
  rdfs:subPropertyOf saref:observes .

# In SOSA/SSN, `sosa:madeBySensor` is only defined to be a sub-property of `sosa:madeBySystem` in SSN, not in SOSA. 
# This file explicits the alignment between `sosa:madeBySensor` and `saref:madeBy` in case it is used only with SOSA (without SSN).

sosa:madeBySensor  # this also covers sosa:madeObservation
  rdfs:subPropertyOf saref:madeBy .

# SAREF has no equivalent to SOSA/SSN `sosa:observationRelatedTo` and its inverse `sosa:relatedObservation`


# SAREF has no equivalent to SOSA/SSN `sosa:quality` and its inverse `sosa:resultQuality`


## Alignment sosa-actuation and SAREF Core and SAREF4SYST

# This part of the file can be read side-by-side with the file sosa-observation.ttl 

### Actuation

# SAREF `saref:Actuation` and SOSA/SSN `sosa:Actuation` are equivalent.

sosa:Actuation
  owl:equivalentClass saref:Actuation .

# SAREF has no equivalent to SOSA/SSN `sosa:ActuationCollection`

### Actuator

# SAREF `saref:Actuator` is a sub-class of `saref:Device`, which must be a tangible object.
# SOSA/SSN `sosa:Actuator` covers devices. Issue [#280](https://github.com/w3c/sdw-sosa-ssn/issues/280) discusses whether it should be relaxed to other entities such as humans.
# In this file, `saref:Actuator` is assumed to be more specific than `sosa:Actuator`.

saref:Actuator
  rdfs:subClassOf sosa:Actuator .

# In SAREF, a device can act upon (OP `saref:actsUpon`) features, properties, or states. SAREF Core defines `saref:observes` and `saref:controls` as sub-properties of `saref:actsUpon`. Property `saref:actsUpon` also applies to functions, commands, and procedure executions.
# In SOSA/SSN, different object properties are used depending on the context. It would be:
#
# - `sosa:actsOn` from actuator to property
# - `sosa:actsOnProperty` from actuation to property
# 
# Thus, these properties are sub-properties of the SAREF property `saref:controls`.

sosa:actsOn
  rdfs:subPropertyOf saref:controls . # also covers sosa:isActedOnBy

sosa:actsOnProperty # also covers sosa:wasActedOnBy
  rdfs:subPropertyOf saref:controls .

# In SOSA/SSN, `sosa:madeByActuator` is only defined to be a sub-property of `sosa:madeBySystem` in SSN, not in SOSA. 
# This file explicits the alignment between `sosa:madeByActuator` and `saref:madeBy` in case it is used only with SOSA (without SSN).

sosa:madeByActuator  # this also covers sosa:madeActuation
  rdfs:subPropertyOf saref:madeBy .



## Alignment sosa-sampling and SAREF Core and SAREF4SYST

# `saref:FeatureOfInterest` being more general than `sosa:FeatureOfInterest`, this alignemnt maps `sosa:Sample` and similar classes to `saref:FeatureOfInterest`. 

sosa:Sample
  rdfs:subClassOf saref:FeatureOfInterest .

sosa:MaterialSample
  rdfs:subClassOf saref:FeatureOfInterest .

sosa:SpatialSample
  rdfs:subClassOf saref:FeatureOfInterest .

sosa:StatisticalSample
  rdfs:subClassOf saref:FeatureOfInterest .

# SAREF has no equivalent to SOSA/SSN `sosa:SampleCollection`

# `sosa:Sampler` is not aligned to `saref:Device`, to avoid forcing samplers to be only tangible objects. 

# `sosa:hasSample` and `sosa:hasOriginalSample` are aligned to SAREF4SYST `s4syst:hasSubSystem`.

sosa:hasSample
  rdfs:subPropertyOf s4syst:hasSubSystem .

sosa:hasOriginalSample
  rdfs:subPropertyOf s4syst:hasSubSystem .


# In SOSA/SSN, `sosa:Sampling` is only defined to be a sub-class of `sosa:Procedure` in SSN, not in SOSA. 
# This file explicits the alignment between `sosa:Sampling` and `saref:ProcedureExecution` in case it is used only with SOSA (without SSN).

sosa:Sampling
  rdfs:subClassOf saref:ProcedureExecution .


# In SOSA/SSN, `sosa:madeBySampler` is only defined to be a sub-property of `sosa:madeBySystem` in SSN, not in SOSA. 
# This file explicits the alignment between `sosa:madeBySampler` and `saref:madeBy` in case it is used only with SOSA (without SSN).

sosa:madeBySampler
  rdfs:subPropertyOf saref:madeBy . # this also covers sosa:madeSampling

